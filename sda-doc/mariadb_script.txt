-- sda2 데이터베이스 구조 내보내기
CREATE DATABASE IF NOT EXISTS `sda2` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `sda2`;

-- 테이블 sda2.thsda_callback 구조 내보내기
CREATE TABLE IF NOT EXISTS `thsda_callback` (
  `callback_seq` int(11) NOT NULL AUTO_INCREMENT,
  `callback_uri` varchar(100) DEFAULT NULL,
  `callback_time` varchar(45) NOT NULL,
  `callback_msg` varchar(500) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`callback_seq`),
  KEY `thsda_callback_idx` (`cdate`)
) ENGINE=InnoDB AUTO_INCREMENT=6611 DEFAULT CHARSET=utf8;

-- 테이블 sda2.thsda_callback_notice 구조 내보내기
CREATE TABLE IF NOT EXISTS `thsda_callback_notice` (
  `cmid` varchar(40) NOT NULL,
  `callback_seq` int(11) NOT NULL,
  `so_notice_time` varchar(45) DEFAULT NULL,
  `so_notice_msg` varchar(500) DEFAULT NULL,
  `work_result` varchar(4000) DEFAULT NULL,
  `triple_file_name` varchar(100) DEFAULT NULL,
  `triple_check_result` varchar(100) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`cmid`,`callback_seq`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 테이블 sda2.thsda_context_aware_hist 구조 내보내기
CREATE TABLE IF NOT EXISTS `thsda_context_aware_hist` (
  `cmid` varchar(40) NOT NULL,
  `ciid` varchar(40) NOT NULL,
  `start_time` varchar(45) NOT NULL DEFAULT '',
  `finish_time` varchar(45) DEFAULT NULL,
  `work_result` varchar(4000) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`cmid`,`ciid`,`start_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 테이블 sda2.thsda_sch_hist 구조 내보내기
CREATE TABLE IF NOT EXISTS `thsda_sch_hist` (
  `task_group_id` varchar(20) NOT NULL,
  `task_id` varchar(45) NOT NULL,
  `start_time` varchar(45) NOT NULL,
  `finish_time` varchar(45) DEFAULT NULL,
  `task_class` varchar(100) DEFAULT NULL,
  `task_expression` varchar(45) DEFAULT NULL,
  `work_cnt` int(11) DEFAULT NULL,
  `work_time` varchar(45) DEFAULT NULL,
  `work_result` varchar(4000) DEFAULT NULL,
  `triple_file_name` varchar(150) DEFAULT NULL,
  `triple_check_result` varchar(300) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`task_group_id`,`task_id`,`start_time`),
  KEY `task_id` (`task_id`),
  KEY `start_time` (`start_time`),
  KEY `finish_time` (`finish_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 테이블 sda2.tnsda_aggr 구조 내보내기
CREATE TABLE IF NOT EXISTS `tnsda_aggr` (
  `aggr_id` varchar(40) NOT NULL,
  `aggr_name` varchar(100) DEFAULT NULL,
  `aggrql` varchar(4000) DEFAULT NULL,
  `argsql` varchar(4000) DEFAULT NULL,
  `remarks` varchar(2000) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  `updateql` varchar(2000) DEFAULT NULL,
  `deleteql` varchar(2000) DEFAULT NULL,
  `insertql` varchar(2000) DEFAULT NULL,
  PRIMARY KEY (`aggr_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 테이블 sda2.tnsda_context_info 구조 내보내기
CREATE TABLE IF NOT EXISTS `tnsda_context_info` (
  `ciid` varchar(40) NOT NULL,
  `ciname` varchar(100) DEFAULT NULL,
  `conditions` varchar(500) DEFAULT NULL,
  `domain` varchar(45) DEFAULT NULL,
  `sparql` varchar(4000) DEFAULT NULL,
  `ci_remarks` varchar(2000) DEFAULT NULL,
  `arg_cnt` int(10) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  `create_string` varchar(1000) DEFAULT NULL,
  `ci_gubun` varchar(50) DEFAULT 'SPARQL',
  PRIMARY KEY (`ciid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 내보낼 데이터가 선택되어 있지 않습니다.
-- 테이블 sda2.tnsda_context_model 구조 내보내기
CREATE TABLE IF NOT EXISTS `tnsda_context_model` (
  `cmid` varchar(40) NOT NULL,
  `cmname` varchar(100) DEFAULT NULL,
  `execution_type` varchar(45) DEFAULT NULL,
  `schedule` varchar(45) DEFAULT NULL,
  `cm_remarks` varchar(4000) DEFAULT NULL,
  `arg_cnt` int(10) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  `create_string` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`cmid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 테이블 sda2.tnsda_context_model_info 구조 내보내기
CREATE TABLE IF NOT EXISTS `tnsda_context_model_info` (
  `tnsda_context_model_cmid` varchar(40) NOT NULL,
  `tnsda_context_info_ciid` varchar(40) NOT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  `ci_seq` int(11) DEFAULT '1',
  PRIMARY KEY (`tnsda_context_model_cmid`,`tnsda_context_info_ciid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 테이블 sda2.tnsda_sch 구조 내보내기
CREATE TABLE IF NOT EXISTS `tnsda_sch` (
  `task_group_id` varchar(20) NOT NULL,
  `task_id` varchar(45) NOT NULL,
  `task_class` varchar(100) DEFAULT NULL,
  `task_expression` varchar(45) DEFAULT NULL,
  `last_work_time` varchar(45) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  `label` varchar(300) DEFAULT NULL,
  `cmmt` varchar(300) DEFAULT NULL,
  PRIMARY KEY (`task_group_id`,`task_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 테이블 sda2.tnsda_subscribe 구조 내보내기
CREATE TABLE IF NOT EXISTS `tnsda_subscribe` (
  `cmid` varchar(40) NOT NULL,
  `ciid` varchar(40) NOT NULL,
  `uri` varchar(100) NOT NULL,
  `notification_uri` varchar(100) DEFAULT NULL,
  `subscribe_time` varchar(45) DEFAULT NULL,
  `use_yn` varchar(1) DEFAULT 'Y',
  `cuser` varchar(100) DEFAULT NULL,
  `cdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `uuser` varchar(100) DEFAULT NULL,
  `udate` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`cmid`,`ciid`,`uri`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;